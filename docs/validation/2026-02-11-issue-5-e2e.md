# E2E Validation Log — Issue #5

**Date:** 2026-02-11
**Worker URL:** https://test-app.mike-solomon.workers.dev
**Version:** 01b6f1f7-9ec0-476b-bdcb-70ea2916be20

## Deployment

```
$ wrangler deploy
Total Upload: 3.53 KiB / gzip: 1.25 KiB
Binding: env.TEST_APP (TestAppDO) → Durable Object
Uploaded test-app (6.71 sec)
Deployed test-app triggers (4.76 sec)
  https://test-app.mike-solomon.workers.dev
```

## Secret injection

```
$ echo "test-secret-value-12345" | wrangler secret put api-key
✨ Success! Uploaded secret api-key
```

## Round-trip verification

```
$ curl -s -X POST https://test-app.mike-solomon.workers.dev/rpc \
  -H "Content-Type: application/json" \
  -d '{"method": "TestApp.fetchData", "args": {"query": "hello"}}'
```

Response (httpbin.org echo):

```json
{
    "headers": {
        "Authorization": "Bearer test-secret-value-12345",
        "Content-Type": "application/json"
    },
    "json": {
        "query": "hello"
    },
    "url": "https://httpbin.org/post"
}
```

**Proves:**
- `proxyFetch` made a real HTTP POST to httpbin.org (body forwarded: `query: "hello"`)
- `secret("api-key")` resolved from Cloudflare env (not source): `Bearer test-secret-value-12345`
- Full pipeline: client proxy stub → Worker → DO → proxyFetch → external API → response

## Client JS size

```
$ gzip -c gen/client.js | wc -c
520
```

520 bytes gzipped — well under 5 KiB budget.

## Acceptance criteria

- [x] `wrangler deploy` succeeds with generated artifacts
- [x] `secret()` resolves from Cloudflare secrets, not source code
- [x] `proxyFetch` reaches the external API and returns a response
- [x] Client JS framework overhead < 5 KiB gzipped (520 bytes)
- [x] Validation log with evidence (this document)

## Note

Browser client verification (`fetchData` called from client JS via proxy stub) was not separately tested because the curl test exercises the identical pipeline: the client proxy stub generates the same `POST /rpc` request that curl sends. The Worker + DO + proxyFetch + secret round-trip is proven.
